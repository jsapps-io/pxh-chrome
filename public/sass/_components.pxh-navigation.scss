/*------------------------------------*\
    #PXH-NAVIGATION
\*------------------------------------*/

$pxh-navigation-selected-bg-color: $select-blue-pressed !default;
$pxh-navigation-active-bg-color: $gray8 !default;
$pxh-navigation-hover-bg-color: $gray7 !default;

@include keyframes(pxh-navigation__sub-link--out) {
  0% {
    font-size: 13px;
    opacity: 1;
    visibility: visible;
    height: $inuit-base-spacing-unit * 2;
    padding: ($inuit-base-spacing-unit / 2) 0 0 $inuit-base-spacing-unit * 2.75;
  }
  50% {
    font-size: 13px;
    opacity: 0;
    visibility: visible;
    height: $inuit-base-spacing-unit * 2;
    padding: ($inuit-base-spacing-unit / 2) 0 0 $inuit-base-spacing-unit * 2.75;
  }
  99% {
    font-size: 0;
    opacity: 0;
    visibility: visible;
    height: 0;
    padding: 0;
  }
  100% {
    font-size: 0;
    opacity: 0;
    visibility: hidden;
    height: 0;
    padding: 0;
  }
}

@include keyframes(pxh-navigation__sub-link--in) {
  0% {
    font-size: 0;
    opacity: 0;
    visibility: hidden;
    height: 0;
    padding: 0;
  }
  1% {
    font-size: 0;
    opacity: 0;
    visibility: visible;
    height: 0;
    padding: 0;
  }
  50% {
    font-size: 13px;
    opacity: 0;
    visibility: visible;
    height: $inuit-base-spacing-unit * 2;
    padding: ($inuit-base-spacing-unit / 2) 0 0 $inuit-base-spacing-unit * 2.75;
  }
  100% {
    font-size: 13px;
    opacity: 1;
    visibility: visible;
    height: $inuit-base-spacing-unit * 2;
    padding: ($inuit-base-spacing-unit / 2) 0 0 $inuit-base-spacing-unit * 2.75;
  }
}

@include keyframes(pxh-navigation__item-text--out) {
  0% {
    font-size: $inuit-base-font-size;
    opacity: 1;
    visibility: visible;
  }
  50% {
    font-size: $inuit-base-font-size;
    opacity: 0;
    visibility: visible;
  }
  99% {
    font-size: 0;
    opacity: 0;
    visibility: visible;
  }
  100% {
    font-size: 0;
    opacity: 0;
    visibility: hidden;
  }
}

@include keyframes(pxh-navigation__item-text--in) {
  0% {
    font-size: 0;
    opacity: 0;
    visibility: hidden;
  }
  1% {
    font-size: 0;
    opacity: 0;
    visibility: visible;
  }
  50% {
    font-size: $inuit-base-font-size;
    opacity: 0;
    visibility: visible;
  }
  100% {
    font-size: $inuit-base-font-size;
    opacity: 1;
    visibility: visible;
  }
}

@include keyframes(pxh-badge--out) {
  0% {
    font-size: 13px;
    opacity: 1;
    visibility: visible;
  }
  50% {
    font-size: 13px;
    opacity: 0;
    visibility: visible;
  }
  99% {
    font-size: 0;
    opacity: 0;
    visibility: visible;
  }
  100% {
    font-size: 0;
    opacity: 0;
    visibility: hidden;
  }
}

@include keyframes(pxh-badge--in) {
  0% {
    font-size: 0;
    opacity: 0;
    visibility: hidden;
  }
  1% {
    font-size: 0;
    opacity: 0;
    visibility: visible;
  }
  50% {
    font-size: 13px;
    opacity: 0;
    visibility: visible;
  }
  100% {
    font-size: 13px;
    opacity: 1;
    visibility: visible;
  }
}

.pxh-navigation {
  position: relative;
  max-height: 100%;
  overflow: auto;
  -webkit-overflow-scrolling: touch;
}

.pxh-navigation__link {
  .pxh-badge {
    animation-name: pxh-badge--in;
    animation-duration: 500ms;
    animation-timing-function: ease-in-out;
    animation-iteration-count: 1;

    // default state for browsers that don't support keyframes
    font-size: 13px;
    opacity: 1;
    visibility: visible;
  }
  &.pxh-navigation__link--selected {
    .pxh-badge {
      &--navigation {
        // when badge is on the current state, background color should be knocked out
        background-color: $gray10;
      }
      // I'm deeply unhappy about re-declaring all of these just to override the rule above
      &--primary {
        background-color: $primary-blue;
      }
      &--important {
        background-color: $alert-red;
      }
      &--warning {
        background-color: $alert-orange;
      }
      &--error {
        background-color: $alert-yellow;
      }
      &--info {
        background-color: $alert-blue;
      }
      &--healthy-black {
        background-color: $black;
      }
      &--healthy-white {
        background-color: $white;
      }
    }
  }
}

@include mq($from: md) {
  .pxh-navigation--narrow\@md {
    .pxh-navigation__item-text {
      animation-name: pxh-navigation__item-text--out;
      animation-duration: 500ms;
      animation-timing-function: ease-in-out;
      animation-iteration-count: 1;

      // default values for browsers that don't support keyframes
      font-size: 0;
      opacity: 0;
      visibility: hidden;
    }
    .pxh-navigation__sub-link {
      animation-name: pxh-navigation__sub-link--out;
      animation-duration: 500ms;
      animation-timing-function: ease-in-out;
      animation-iteration-count: 1;

      // default values for browsers that don't support keyframes
      font-size: 0;
      opacity: 0;
      visibility: hidden;
      height: 0;
      padding: 0;
    }
    .pxh-navigation__sub-item--divider {
      opacity: 0;
      transition-delay: 0s;
    }
    .pxh-navigation__link {
      padding-left: $inuit-base-spacing-unit * 0.75;
    }
    .pxh-badge {
      animation-name: pxh-badge--out;
      animation-duration: 500ms;
      animation-timing-function: ease-in-out;
      animation-iteration-count: 1;

      // default state for browsers that don't support keyframes
      font-size: 0;
      opacity: 0;
      visibility: hidden;
    }
  }
}

.pxh-navigation__item-text {
  display: block;
  float: left;
  opacity: 1;
  animation-name: pxh-navigation__item-text--in;
  animation-duration: 500ms;
  animation-timing-function: ease-in-out;
  animation-iteration-count: 1;

  // default state for browsers that don't support keyframes
  font-size: $inuit-base-font-size;
  opacity: 1;
  visibility: visible;
  }

.pxh-navigation__list.pxh-navigation__list.pxh-navigation__list { // chained to override px-theme
  list-style: none;
  margin: 0;
  padding: 0;
}

.pxh-navigation__item-icon {
  float: left;
  display: block;
  width: $inuit-base-spacing-unit * 1.5;
}

.pxh-navigation__link.pxh-navigation__link.pxh-navigation__link { // chained to override px-theme
  font-size: $inuit-base-font-size;
  display: block;
  width: 100%;
  height: $inuit-base-spacing-unit * 3.5;
  float: left;
  clear: left;
  padding: $inuit-base-spacing-unit ($inuit-base-spacing-unit / 3) $inuit-base-spacing-unit ($inuit-base-spacing-unit);
  color: $white;
  text-decoration: none;
}

.pxh-navigation__link:link.pxh-navigation__link:link.pxh-navigation__link:link,
.pxh-navigation__link:visited.pxh-navigation__link:visited.pxh-navigation__link:visited { // chained to override px-theme
  color: $white;
}
.pxh-navigation__link:hover.pxh-navigation__link:hover.pxh-navigation__link:hover { // chained to override px-theme
  background-color: $pxh-navigation-hover-bg-color;
}

.pxh-navigation__link--selected.pxh-navigation__link--selected.pxh-navigation__link--selected,
.pxh-navigation__link--selected:link.pxh-navigation__link--selected:link.pxh-navigation__link--selected:link,
.pxh-navigation__link--selected:visited.pxh-navigation__link--selected:visited.pxh-navigation__link--selected:visited,
.pxh-navigation__link--selected:hover.pxh-navigation__link--selected:hover.pxh-navigation__link--selected:hover { // chained to override px-theme
  background-color: $pxh-navigation-selected-bg-color;
}

.pxh-navigation__link--active.pxh-navigation__link--active.pxh-navigation__link--active,
.pxh-navigation__link--active:link.pxh-navigation__link--active:link.pxh-navigation__link--active:link,
.pxh-navigation__link--active:visited.pxh-navigation__link--active:visited.pxh-navigation__link--active:visited {
  background-color: $pxh-navigation-active-bg-color;
}

.pxh-navigation__sub-list.pxh-navigation__sub-list.pxh-navigation__sub-list { // chained to override px-theme
  clear: both;
  margin: 0;
  padding: 0;
  list-style: none;
}

.pxh-navigation__sub-link {
  display: block;
  height: $inuit-base-spacing-unit * 2;
  padding: ($inuit-base-spacing-unit / 2) 0 0 $inuit-base-spacing-unit * 2.75;
  text-decoration: none;
  animation-name: pxh-navigation__sub-link--in;
  animation-duration: 500ms;
  animation-timing-function: ease-in-out;
  animation-iteration-count: 1;

  // default state for browsers that don't support keyframes
  font-size: 13px;
  opacity: 1;
  visibility: visible;
  height: $inuit-base-spacing-unit * 2;
  padding: ($inuit-base-spacing-unit / 2) 0 0 $inuit-base-spacing-unit * 2.75;
}

.pxh-navigation__sub-link.pxh-navigation__sub-link.pxh-navigation__sub-link,
.pxh-navigation__sub-link:link.pxh-navigation__sub-link:link.pxh-navigation__sub-link:link,
.pxh-navigation__sub-link:visited.pxh-navigation__sub-link:visited.pxh-navigation__sub-link:visited { // chained to override px-theme
  color: $white;
}

.pxh-navigation__sub-link.pxh-navigation__sub-link:hover.pxh-navigation__sub-link:hover { // chained to override px-theme
  background-color: $pxh-navigation-hover-bg-color;
}

.pxh-navigation__sub-link--selected {
  background-color: $pxh-navigation-selected-bg-color;
  &:link,
  &:visited {
    background-color: $pxh-navigation-selected-bg-color;
  }
  &:hover {
    background-color: $pxh-navigation-selected-bg-color;
  }
}

.pxh-navigation__sub-item--divider {
  display: block;
  border-top: 1px solid $gray9;
  transition: opacity 300ms linear;
  transition-delay: 300ms;
}

.pxh-navigation__sub-link--settings.pxh-navigation__sub-link--settings.pxh-navigation__sub-link--settings,
.pxh-navigation__sub-link--settings:link.pxh-navigation__sub-link--settings:link.pxh-navigation__sub-link--settings:link,
.pxh-navigation__sub-link--settings:visited.pxh-navigation__sub-link--settings:visited.pxh-navigation__sub-link--settings:visited {
  color: $primary-blue;
}

.pxh-navigation__sub-link--settings:hover.pxh-navigation__sub-link--settings:hover.pxh-navigation__sub-link--settings:hover {
  color: $white;
}
